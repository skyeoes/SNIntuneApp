<?xml version="1.0" encoding="UTF-8"?><record_update table="sysauto_script">
    <sysauto_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <business_calendar/>
        <can_iterate>false</can_iterate>
        <condition/>
        <conditional>false</conditional>
        <entered_time>1970-01-01 04:00:00</entered_time>
        <max_drift/>
        <name>Intune Integration GET Computing Devices</name>
        <offset/>
        <offset_type>0</offset_type>
        <run_as display_value="">fa0b5c734fd0c700f20dab4f0310c70a</run_as>
        <run_as_tz/>
        <run_dayofmonth>1</run_dayofmonth>
        <run_dayofweek>1</run_dayofweek>
        <run_period/>
        <run_start>2024-09-08 23:59:00</run_start>
        <run_time>1969-12-31 20:00:00</run_time>
        <run_type>daily</run_type>
        <script><![CDATA[/*
	For now, we are only getting 'windowsRT' devices from Intune (these are the only company owned deviceTypes available in CPM Intune at the time of writing this script).

	There is more detail on different deviceTypes that are discoverable with Intune and how they are represented on the Product Documentation site for Microsoft Intune:

	https://learn.microsoft.com/en-us/mem/intune/developer/reports-ref-devices#devicetypes

	The deviceTypes entity represents the device type referenced by other data warehouse entities. The device type typically describes either the device model, manufacturer, or a combination of both.

	Should CITIC Pacific Mining plan on discovering other types of company owned device types (other than 'windowsRT') via Intune after this integration is in place, then the filter used in this script will require updates to pull those devices into ServiceNow as Configuration Items.
	
	If wanting to also discover for for example, update the String used for the Odata filter, for example:
	
	       "deviceType eq 'desktop' or deviceType eq 'macMDM' or deviceType eq 'winEmbedded' or deviceType eq 'surfaceHub' or deviceType eq 'windowsRT'");

*/

// var utils = new x_cipm_intune_app.IntuneUtils("x_cipm_intune_app_computer_device_imp",
//     "Intune Computer Device Imp",
//     "GET Computing Devices", "ownerType eq 'company'");

// utils.run();

var utils = new x_cipm_intune_app.IntuneUtils("x_cipm_intune_app_computer_device_imp",
    "Intune Computer Device Imp",
    "GET Computing Devices", "deviceType eq 'windowsRT'");

utils.run();

// new x_cipm_intune_app.IntuneUtils("x_cipm_intune_app_computer_device_imp",
//     "Intune Computer Device Imp",
//     //"GET Computing Devices", "ownerType eq 'company' and 'deviceType eq 'windowsRT'").run();
// 	"GET Computing Devices", "ownerType eq 'company'").run();]]></script>
        <source_filter/>
        <source_table/>
        <sys_class_name>sysauto_script</sys_class_name>
        <sys_created_by>skye.stack.admin</sys_created_by>
        <sys_created_on>2024-09-09 00:02:24</sys_created_on>
        <sys_id>d7fc455587e852109a45a8680cbb35a0</sys_id>
        <sys_mod_count>28</sys_mod_count>
        <sys_name>Intune Integration GET Computing Devices</sys_name>
        <sys_package display_value="Intune Integration Application" source="x_cipm_intune_app">f8a0c2b387001a10b8d10fe80cbb3573</sys_package>
        <sys_policy/>
        <sys_scope display_value="Intune Integration Application">f8a0c2b387001a10b8d10fe80cbb3573</sys_scope>
        <sys_update_name>sysauto_script_d7fc455587e852109a45a8680cbb35a0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-10-02 06:06:25</sys_updated_on>
        <time_zone>Australia/Perth</time_zone>
        <upgrade_safe>false</upgrade_safe>
    </sysauto_script>
</record_update>
